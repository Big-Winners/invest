<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invest Now</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='invest.css') }}">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f8f9fa;
            padding-top: 20px;
        }

        .plan-buttons .btn {
            margin: 5px;
        }

        .plan-section {
            display: none;
            padding: 20px;
            background: white;
            border-radius: 5px;
            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
            margin: auto;
        }

        .plan-section.active {
            display: block;
        }

        .spinner-border-sm {
            margin-left: 10px;
        }
        
        .payment-method-btn {
            margin: 5px;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-method-btn:hover {
            background: #f8f9fa;
            border-color: #007bff;
        }
        
        .payment-method-btn.selected {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }
        
        .payment-method-btn i {
            margin-right: 8px;
        }
        
        .qr-code {
            max-width: 200px;
            margin: 15px auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            background: white;
        }
    </style>
</head>

<body>
    <div class="menu-container">
        <i class="fas fa-bars menu-icon" onclick="toggleMenu()"></i>
        <div class="menu-dropdown" id="menuDropdown">
            <!-- Home Section -->
            <div class="menu-item">
                <a href="/dashboard"><i class="fas fa-home"></i> <span>Home</span></a>
            </div>

            <!-- Profile Section -->
            <div class="menu-item profile-section">
                <a href="javascript:void(0);" onclick="toggleProfileDetails()">
                    <i class="fas fa-user-circle"></i> <span>Profile</span>
                </a>
            </div>
            <div class="profile-details" id="profileDetails">
                <div class="profile-picture-container" id="profilePictureContainer">
                    <img id="profilePicture"
                        src="{{ url_for('static', filename='uploads/' + session.get('profile_picture', 'default.jpg')) }}"
                        alt="Profile Picture">
                </div>
                <p><i class="fas fa-user"></i> <strong>Username:</strong> {{ session.get('user', 'Guest') }}</p>
                <p><i class="fas fa-envelope"></i> <strong>Email:</strong> {{ session.get('user_email', 'Not available') }}
                </p>
            </div>

            <!-- Subscription Plans -->
            <h3><i class="fas fa-file-contract"></i> Subscription Plans</h3>
            <ul>
                <li><i class="fas fa-check"></i> <a href="/invest">Standard Plan</a></li>
                <li><i class="fas fa-check"></i> <a href="/invest">VIP Plan</a></li>
            </ul>

            <!-- More Options -->
            <h3><i class="fas fa-list"></i> More Options</h3>
            <ul>
                <li><a href="/account-settings"><i class="fas fa-cog"></i> <span>Account Settings</span></a></li>
                <li><a href="/about"><i class="fas fa-info-circle"></i> <span>About Us</span></a></li>
                <li><a href="{{ url_for('terms') }}"><i class="fas fa-file-alt"></i> <span>Terms & Conditions</span></a>
                </li>
                <li><a href="/logout"><i class="fas fa-sign-out-alt"></i> <span>Logout</span></a></li>
            </ul>
        </div>
    </div>
    <script>
        function toggleMenu() {
            const menuDropdown = document.getElementById('menuDropdown');
            const container = document.querySelector('.container');

            if (menuDropdown) {
                menuDropdown.style.display = menuDropdown.style.display === 'block' ? 'none' : 'block';

                // Adjust content margin when menu is open
                if (menuDropdown.style.display === 'block') {
                    container.style.marginTop = '150px';
                } else {
                    container.style.marginTop = '0';
                }
            }
        }

        function toggleProfileDetails() {
            const profileDetails = document.getElementById('profileDetails');
            if (profileDetails) {
                profileDetails.style.display = profileDetails.style.display === 'block' ? 'none' : 'block';
            }
        }
    </script>

    <div class="container">
        <h2 class="text-center text-primary mb-4"><i class="fas fa-money-check-alt"></i> Select Your Investment Plan
        </h2>

        <!-- Investment Plan Buttons - Basic Plan Removed -->
        <div class="plan-buttons text-center mb-4">
            <button class="btn btn-primary" onclick="showPlan('standard')">Standard Plan</button>
            <button class="btn btn-primary" onclick="showPlan('vip')">VIP Plan</button>
        </div>

        <!-- Plan Sections - Basic Plan Section Removed -->
        <div id="standard" class="plan-section">
            <h3 class="text-center text-secondary">Standard Plan</h3>
            <div class="form-group">
                <select id="amount_standard" class="form-select">
                    <option value="100">Invest $100 → Earn $500</option>
                    <option value="150">Invest $150 → Earn $750</option>
                    <option value="200">Invest $200 → Earn $1000</option>
                    <option value="250">Invest $250 → Earn $1250</option>
                    <option value="300">Invest $300 → Earn $1500</option>
                    <option value="350">Invest $350 → Earn $1750</option>
                </select>
            </div>
            <button class="btn btn-success mt-3" onclick="payNow('standard')">Pay Now</button>
        </div>

        <div id="vip" class="plan-section">
            <h3 class="text-center text-secondary">VIP Plan</h3>
            <div class="form-group">
                <select id="amount_vip" class="form-select">
                    <option value="400">Invest $400 → Earn $2000</option>
                    <option value="500">Invest $500 → Earn $2500</option>
                    <option value="600">Invest $600 → Earn $3000</option>
                    <option value="700">Invest $700 → Earn $3500</option>
                    <option value="800">Invest $800 → Earn $4000</option>
                    <option value="900">Invest $900 → Earn $4500</option>
                    <option value="1000">Invest $1000 → Earn $5000</option>
                </select>
            </div>
            <button class="btn btn-success mt-3" onclick="payNow('vip')">Pay Now</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script>
        // Global variables
        let selectedPlan = '';
        let selectedAmountUSD = 0;
        let selectedCountry = '';
        let selectedPaymentMethod = '';

        // Payment method constants
        const PAYMENT_METHODS = {
            LOCAL: 'local',
            BTC: 'btc'
        };

        // Countries that use Bitcoin payment
        const BITCOIN_COUNTRIES = ['USA', 'Canada', 'South Africa', 'Nigeria', 'UAE', 'Kuwait'];
        
        // Countries that use local payment methods
        const LOCAL_PAYMENT_COUNTRIES = ['Kenya', 'Uganda', 'Rwanda', 'Tanzania', 'Zambia', 'South Sudan'];

        function showPlan(plan) {
            document.querySelectorAll('.plan-section').forEach(section => section.classList.remove('active'));
            document.getElementById(plan).classList.add('active');
        }

        // New main entry for payment - opens country modal
        function payNow(plan) {
            selectedPlan = plan;
            selectedAmountUSD = parseFloat(document.getElementById(`amount_${plan}`).value);
            selectedPaymentMethod = ''; // Reset payment method

            // Show the country modal
            const countryModal = new bootstrap.Modal(document.getElementById('countryModal'));
            countryModal.show();

            // Clear previous payment method selection
            document.querySelectorAll('.payment-method-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
        }

        function handleCountrySelection() {
            const country = document.getElementById('selectedCountry').value;
            selectedCountry = country;
            
            // Hide payment method selection initially
            document.getElementById('paymentMethodSection').style.display = 'none';
            
            if (!country) {
                return;
            }

            // Determine available payment methods
            if (BITCOIN_COUNTRIES.includes(country)) {
                // Only BTC for these countries
                showPaymentMethodSelection([PAYMENT_METHODS.BTC]);
            } else if (LOCAL_PAYMENT_COUNTRIES.includes(country)) {
                // For existing countries, offer both options
                showPaymentMethodSelection([PAYMENT_METHODS.LOCAL, PAYMENT_METHODS.BTC]);
            }
        }

        function showPaymentMethodSelection(methods) {
            const paymentMethodSection = document.getElementById('paymentMethodSection');
            const paymentMethodButtons = document.getElementById('paymentMethodButtons');
            
            // Clear previous buttons
            paymentMethodButtons.innerHTML = '';
            
            // Create payment method buttons
            methods.forEach(method => {
                const button = document.createElement('button');
                button.type = 'button';
                button.className = 'payment-method-btn';
                button.onclick = () => selectPaymentMethod(method);
                
                if (method === PAYMENT_METHODS.LOCAL) {
                    button.innerHTML = '<i class="fas fa-money-bill-wave"></i> Local Payment';
                } else if (method === PAYMENT_METHODS.BTC) {
                    button.innerHTML = '<i class="fab fa-bitcoin"></i> Bitcoin (BTC)';
                }
                
                paymentMethodButtons.appendChild(button);
            });
            
            // Show the section
            paymentMethodSection.style.display = 'block';
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Update UI
            document.querySelectorAll('.payment-method-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            // Enable proceed button
            document.getElementById('proceedCountryBtn').disabled = false;
        }

        function proceedToPayment() {
            if (!selectedCountry || !selectedPaymentMethod) {
                showBootstrapAlert('warning', 'Please select both country and payment method');
                return;
            }

            // Hide modal
            const countryModal = bootstrap.Modal.getInstance(document.getElementById('countryModal'));
            countryModal.hide();

            // Route to appropriate payment method
            if (selectedPaymentMethod === PAYMENT_METHODS.LOCAL) {
                // Local payment methods
                if (selectedCountry === "Kenya") {
                    convertAndPayWithPaystack(selectedPlan);
                } else {
                    showManualPayment(selectedCountry, selectedAmountUSD, selectedPlan);
                }
            } else if (selectedPaymentMethod === PAYMENT_METHODS.BTC) {
                // Bitcoin payment via Coinbase Commerce
                initiateCoinbasePayment(selectedCountry, selectedAmountUSD, selectedPlan);
            }
        }

        // Kenya: use Paystack
        async function convertAndPayWithPaystack(plan) {
            const amountUSD = selectedAmountUSD;
            const email = "{{ session.get('user_email', '') }}";

            if (!email) {
                showBootstrapAlert('danger', 'You must be logged in to invest.');
                window.location.href = "/login?next=/invest";
                return;
            }

            try {
                // Show loading state
                const payButton = document.querySelector(`#${plan} button`);
                payButton.disabled = true;
                payButton.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Processing...';

                // Convert USD to KES
                const conversionResponse = await fetch(`/convert_currency?amount=${amountUSD}&from=USD&to=KES`);
                const conversionData = await conversionResponse.json();

                if (conversionData.error) {
                    showBootstrapAlert('danger', conversionData.error);
                    throw new Error(conversionData.error);
                }

                const amountKES = Math.round(conversionData.converted);

                // Initialize Paystack payment
                const paymentResponse = await fetch("/initialize_transaction", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        email: email,
                        amount: amountKES,
                        plan: plan
                    })
                });

                const paymentData = await paymentResponse.json();

                if (paymentData.status && paymentData.data.authorization_url) {
                    // Open Paystack in same window
                    window.location.href = paymentData.data.authorization_url;
                } else {
                    showBootstrapAlert('danger', paymentData.message || "Payment initialization failed");
                    throw new Error(paymentData.message || "Payment initialization failed");
                }
            } catch (error) {
                const payButton = document.querySelector(`#${plan} button`);
                payButton.disabled = false;
                payButton.innerHTML = 'Pay Now';
                showBootstrapAlert('danger', error.message);
            }
        }

        // Coinbase Commerce Bitcoin payment
        async function initiateCoinbasePayment(country, usdAmount, plan) {
            const email = "{{ session.get('user_email', '') }}";
            
            if (!email) {
                showBootstrapAlert('danger', 'You must be logged in to invest.');
                window.location.href = "/login?next=/invest";
                return;
            }

            try {
                // Show loading
                showBootstrapAlert('info', 'Creating Coinbase payment request...');

                // Create Coinbase Commerce charge
                const response = await fetch('/create_coinbase_charge', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        amount_usd: usdAmount,
                        plan: plan,
                        country: country
                    })
                });

                const data = await response.json();

                if (data.success && data.hosted_url) {
                    // Redirect to Coinbase hosted checkout page
                    window.location.href = data.hosted_url;
                } else {
                    showBootstrapAlert('danger', data.message || 'Failed to create payment');
                }
            } catch (error) {
                showBootstrapAlert('danger', 'Error: ' + error.message);
            }
        }

        // Function to check payment status (optional - can be used if you want manual checking)
        async function checkCoinbasePaymentStatus(chargeId) {
            try {
                const response = await fetch(`/check_coinbase_payment/${chargeId}`);
                const data = await response.json();
                
                if (data.success) {
                    return data.status;
                }
                return null;
            } catch (error) {
                console.error('Error checking payment:', error);
                return null;
            }
        }

        // Manual Payment Instructions Modal
        async function showManualPayment(country, usdAmount, plan) {
            // Determine local currency
            let toCurrency = "KES"; // fallback
            switch (country) {
                case "Uganda": toCurrency = "UGX"; break;
                case "Rwanda": toCurrency = "RWF"; break;
                case "Tanzania": toCurrency = "TZS"; break;
                case "Zambia": toCurrency = "ZMW"; break;
                case "South Sudan": toCurrency = "SSP"; break;
                case "Kenya": toCurrency = "KES"; break;
            }
            
            // Convert USD to local
            let amountLocal = 0;
            let rate = 1;
            try {
                const resp = await fetch(`/convert_currency?amount=${usdAmount}&from=USD&to=${toCurrency}`);
                const data = await resp.json();
                amountLocal = data.converted;
                rate = data.rate;
            } catch (e) { 
                amountLocal = usdAmount; 
                showBootstrapAlert('warning', 'Using approximate conversion rate');
            }

            // Build payment instructions
            let instructions = '';
            if (country === 'Uganda') {
                instructions = `
                        <b>MTN UGANDA</b>
                        <ol>
                            <li>Dial *165*1#</li>
                            <li>Select send money</li>
                            <li>East Africa</li>
                            <li>Safaricom(mpesa) KENYA</li>
                            <li>Enter <b>254769823817</b> as the receiver number</li>
                        </ol>
                        <hr>
                        <b>AIRTEL UGANDA</b>
                        <ol>
                            <li>Dial *185*1#</li>
                            <li>Select send money</li>
                            <li>International transfer</li>
                            <li>Eastern Africa</li>
                            <li>Kenya</li>
                            <li>Safaricom(mpesa)</li>
                            <li>Enter <b>254769823817</b> as the receiver number</li>
                            <li>Reason: Any</li>
                        </ol>
                    `;
            } else if (country === 'Rwanda') {
                instructions = `
                        <b>MTN RWANDA</b>
                        <ol>
                            <li>Dial *182#</li>
                            <li>Select send money</li>
                            <li>International transfer</li>
                            <li>Safaricom(mpesa) KENYA</li>
                            <li>Enter <b>254769823817</b> as the receiver number</li>
                        </ol>
                        <hr>
                        <b>OR</b>
                        <ol>
                            <li>Dial *830#</li>
                            <li>Select send money</li>
                            <li>International transfer</li>
                            <li>Safaricom(mpesa) KENYA</li>
                            <li>Enter <b>254769823817</b> as the receiver number</li>
                        </ol>
                    `;
            } else if (country === 'Tanzania') {
                instructions = `
                        <b>MPESA TANZANIA</b>
                        <ol>
                            <li>Dial *150*00#</li>
                            <li>Select send money</li>
                            <li>Select Mpesa Kenya</li>
                            <li>Enter number <b>+254769823817</b></li>
                            <li>Enter amount and then pin</li>
                        </ol>
                        <hr>
                        <b>AIRTEL TANZANIA</b>
                        <ol>
                            <li>Dial *150*60#</li>
                            <li>Select send money</li>
                            <li>Choose international transfer</li>
                            <li>Select Kenya</li>
                            <li>Enter <b>+254769823817</b></li>
                            <li>Enter amount and then pin</li>
                        </ol>
                        <hr>
                        <b>TIGO TANZANIA</b>
                        <ol>
                            <li>Dial *150*01#</li>
                            <li>Select send money</li>
                            <li>Select send out of the country</li>
                            <li>Select Kenya</li>
                            <li>Enter <b>254769823817</b></li>
                            <li>Enter amount and then pin</li>
                        </ol>
                    `;
            } else if (country === 'Zambia') {
                instructions = `
                        <b>AIRTEL ZAMBIA</b>
                        <ol>
                            <li>Dial *115#</li>
                            <li>Select send money</li>
                            <li>Choose international transfer</li>
                            <li>Select Kenya</li>
                            <li>Enter <b>254769823817</b></li>
                            <li>Enter amount and then pin</li>
                        </ol>
                    `;
            } else if (country === 'South Sudan') {
                instructions = `
                        <b>M-Gurush SOUTH SUDAN</b>
                        <ol>
                            <li>Dial *355#</li>
                            <li>Enter your m-Gurush pin</li>
                            <li>Select international remittances</li>
                            <li>Choose Kenya</li>
                            <li>Select Mpesa(safaricom)</li>
                            <li>Enter <b>254769823817</b></li>
                            <li>Enter amount and your m-Gurush pin</li>
                        </ol>
                    `;
            }

            // Add transaction/reference ID field to the modal
            const modalInstructions = `
                    <h6>Pay <b>${amountLocal.toFixed(2)} ${toCurrency}</b> for your selected plan (${usdAmount} USD)</h6>
                    <div>Conversion Rate: 1 USD = ${rate.toFixed(2)} ${toCurrency}</div>
                    <hr>
                    ${instructions}
                    <hr>
                    <div class="mb-3">
                        <label for="manualTransactionIdInput" class="form-label"><b>Transaction/Reference ID:</b></label>
                        <input type="text" class="form-control" id="manualTransactionIdInput" placeholder="Enter your payment transaction/reference ID">
                    </div>
                    <div id="manualPaymentFeedback" class="mb-2"></div>
                `;

            document.getElementById('manualPaymentInstructions').innerHTML = modalInstructions;

            // Show modal
            const manualPaymentModal = new bootstrap.Modal(document.getElementById('manualPaymentModal'));
            manualPaymentModal.show();

            // Handle "I have paid"
            document.getElementById('confirmManualPaymentBtn').onclick = async function () {
                const transactionId = document.getElementById('manualTransactionIdInput').value.trim();
                const feedbackDiv = document.getElementById('manualPaymentFeedback');
                feedbackDiv.innerHTML = "";
                if (!transactionId) {
                    feedbackDiv.innerHTML = `<div class="alert alert-warning alert-dismissible fade show" role="alert">
                        Please enter your payment transaction/reference ID.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>`;
                    return;
                }
                // Send payment notice to backend
                const res = await fetch('/manual_payment_notice', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        amount_usd: usdAmount,
                        local_amount: amountLocal,
                        plan: plan,
                        country: country,
                        transaction_id: transactionId
                    })
                });
                const data = await res.json();
                if (data.status === 'pending') {
                    feedbackDiv.innerHTML = `<div class="alert alert-success alert-dismissible fade show" role="alert">
                        Your payment is pending approval. You will be notified once it is confirmed.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>`;
                    setTimeout(() => {
                        manualPaymentModal.hide();
                        window.location.href = '/dashboard';
                    }, 2000);
                } else {
                    feedbackDiv.innerHTML = `<div class="alert alert-danger alert-dismissible fade show" role="alert">
                        ${data.message || 'Failed to submit payment notice. Try again.'}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>`;
                }
            };
        }

        // Bootstrap alert helper
        function showBootstrapAlert(type, message) {
            let alertId = "main-bootstrap-alert";
            let old = document.getElementById(alertId);
            if (old) old.remove();
            let alertDiv = document.createElement("div");
            alertDiv.id = alertId;
            alertDiv.className = `alert alert-${type} alert-dismissible fade show m-3`;
            alertDiv.role = "alert";
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;
            document.body.prepend(alertDiv);
            setTimeout(() => {
                if (alertDiv.parentNode) alertDiv.remove();
            }, 4000);
        }
    </script>

    <!-- Country Selection Modal -->
    <div class="modal fade" id="countryModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">Select Your Country</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Select Country:</label>
                        <select class="form-select" id="selectedCountry" onchange="handleCountrySelection()">
                            <option value="" disabled selected>Select Country</option>
                            <!-- Existing Countries -->
                            <option value="Kenya">Kenya</option>
                            <option value="Uganda">Uganda</option>
                            <option value="Rwanda">Rwanda</option>
                            <option value="Tanzania">Tanzania</option>
                            <option value="Zambia">Zambia</option>
                            <option value="South Sudan">South Sudan</option>
                            <!-- New Bitcoin Countries -->
                            <option value="USA">USA</option>
                            <option value="Canada">Canada</option>
                            <option value="South Africa">South Africa</option>
                            <option value="Nigeria">Nigeria</option>
                            <option value="UAE">UAE</option>
                            <option value="Kuwait">Kuwait</option>
                        </select>
                    </div>
                    
                    <!-- Payment Method Selection Section -->
                    <div id="paymentMethodSection" style="display: none;">
                        <label class="form-label">Select Payment Method:</label>
                        <div id="paymentMethodButtons" class="d-flex flex-wrap"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="proceedCountryBtn" 
                            onclick="proceedToPayment()" disabled>Proceed</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Manual Payment Modal -->
    <div class="modal fade" id="manualPaymentModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title">Manual Payment Instructions</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="manualPaymentInstructions">
                    <!-- Content is set by JS -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" id="confirmManualPaymentBtn">I Have Paid</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bitcoin Payment Status Modal (Optional) -->
    <div class="modal fade" id="bitcoinStatusModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-warning text-dark">
                    <h5 class="modal-title"><i class="fab fa-bitcoin"></i> Bitcoin Payment Status</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="bitcoinStatusContent">
                    <!-- Content will be set dynamically -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="window.location.href='/dashboard'">Go to Dashboard</button>
                </div>
            </div>
        </div>
    </div>

</body>
<footer>
    <p>&copy; 2025 Big Winners. All rights reserved.</p>
</footer>

</html>